<!DOCTYPE html>
<html>
<head>
	<title>Drum kit!!</title>
 	<link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Cedarville+Cursive|Gloria+Hallelujah|Lacquer&display=swap" rel="stylesheet">
</head>
<body >
  <div class="boxes">
	<div data-key="65" class="box">
		<div class="key">A</div>
		<div class="label">CLAP</div>
	</div>
	<div data-key="83" class="box">
		<div class="key">S</div>
		<div class="label">HIHAT</div>
	</div>
	<div data-key="68" class="box">
		<div class="key">D</div>
		<div class="label">KICK</div>
	</div>
	<div data-key="70" class="box">
		<div class="key">F</div>
		<div class="label">OPENHAT</div>
	</div>
	<div data-key="71" class="box">
		<div class="key">G</div>
		<div class="label">BOOM</div>
	</div>
	<div data-key="72" class="box">
		<div class="key">H</div>
		<div class="label">RIDE</div>
	</div>
	<div data-key="74" class="box">
		<div class="key">J</div>
		<div class="label">SNARE</div>
	</div>
	<div data-key="75" class="box">
		<div class="key">K</div>
		<div class="label">TOM</div>
	</div>
	<div data-key="76" class="box">
		<div class="key">L</div>
		<div class="label">TINK</div>
	</div>





  </div>
  
  <audio data-key="65" src="sounds/clap.wav"></audio>
  <audio data-key="83" src="sounds/hihat.wav"></audio>
  <audio data-key="68" src="sounds/kick.wav"></audio>
  <audio data-key="70" src="sounds/openhat.wav"></audio>
  <audio data-key="71" src="sounds/boom.wav"></audio>
  <audio data-key="72" src="sounds/ride.wav"></audio>
  <audio data-key="74" src="sounds/snare.wav"></audio>
  <audio data-key="75" src="sounds/tom.wav"></audio>
  <audio data-key="76" src="sounds/tink.wav"></audio>
	
  <script>
	  
		  function playsound(e){
		  const audio=document.querySelector(`audio[data-key="${e.keyCode}"]`);
		  const key=document.querySelector(`.box[data-key="${e.keyCode}"]`);
		  if(!audio)return;//stop the function from running all together
		  audio.play();
		  audio.currentTime=0;//rewind to the start
		  key.classList.add("playing");
		  }
		  function removetransition(e){
			//if(e.propertyName!="transform"){return;}else{this.classList.remove("playing")}嚴謹方法等的是transition結束
			  this.classList.remove("playing")
		  }
		
		  const keys=document.querySelectorAll(`.box`);
		  keys.forEach(key=>key.addEventListener("transitionend",removetransition));

		  window.addEventListener("keydown",playsound);
		  
  </script>




</body>
</html>
